RULES (MUST FOLLOW)
Subclass CScene.

Max 20s, 4–7 beats.

Labels ≤ 3 chars (e.g. "hyp", "A", "opp").

COLORS
Angle/focus: YELLOW

Hypotenuse: RED

Opposite: BLUE

Adjacent: GREEN

Aux: GRAY

Lines: WHITE

Animations: Prefer Transform for changing main objects; use fade_out_group for removing helpers; Indicate, Create, set_opacity(0.3) for dimming.

NO: scene clearing, camera moves, eval, long labels, sentences.

TYPICAL SCENE STRUCTURE
from manim import *
from scene import CScene
import numpy as np

class GeneratedScene(CScene):
    def construct(self):
        self.setup_scene("Right Triangle Ratios")
        self.animate_right_triangle_ratios()  # or primitives

HIGH-LEVEL TEMPLATES (use these first!)
# Right Triangle Ratios
self.animate_right_triangle_ratios(
    focus_angle="A",                    # "A" or "B"
    highlight_sequence=["hyp","opp","adj"]
)

# Sine Rule
self.animate_sine_rule(triangle_angles=(30,60,90))

# Cosine Rule
self.animate_cosine_rule(side_a=5, side_b=4, angle_C_degrees=60)

# Area Formula
self.animate_triangle_area_formula(side_a=4, side_b=3, angle_C_degrees=60)

# Trig Values (30°, 45°, 60°)
self.animate_trig_ratio_values(30, ["sin","cos"])

# Sine Graph
self.animate_sine_wave_properties()

# Solve Trig Equation
self.animate_solve_trig_equation(
    equation_latex=r"\\sin \\theta = 0.5",
    solutions_degrees=[30,150]
)

PRIMITIVES (use if no template fits)

# Scene Setup
self.setup_scene("Title")   # title at top
self.pause(1.0)             # wait 1s

# Title (store reference for fading!)
title = self.setup_scene("Title")  # Returns title Text mobject
# Later: fade_out=[title, old_labels]

Geometry
# Triangle
A = np.array([-2,0,0])
B = np.array([2,0,0])
C = np.array([0,2,0])
triangle = self.polygon(A,B,C)

# Segment
hyp = self.segment(B,C, color=RED, stroke_width=6)

# Circle
circle = self.circle_from_center_radius(ORIGIN, 2.5)

# Right angle (CRITICAL: middle vertex = right angle location!)
right_mark = self.right_angle_mark(A, B, C, size=0.25, color=YELLOW)
# Order: from_vertex, right_angle_vertex, to_vertex

# Angle mark (CRITICAL: middle vertex = angle location!)
angle_A = self.angle_mark(B, A, C, color=YELLOW, label="A")
# Order: from_vertex, angle_vertex, to_vertex

# Shape center (compute once per polygon)
shape_center = self.get_shape_center(A,B,C)  # triangle center

# Labels (ALWAYS pass shape_center - positions outside shape automatically)
self.label_point(A, "A", shape_center)      # outside near point A
self.label_line(hyp, "hyp", shape_center)   # outside near hypotenuse
self.label_point(B, "B", shape_center)      # outside near point B

# Equations
eq = self.mtex(r"\\sin A = \\frac{\\text{opp}}{\\text{hyp}}")
eq = self.show_equation_step(eq, r"h = b \\sin C")

# Coordinate Plane
plane = self.make_plane()
P = self.plot_point(plane, 2, 3)
P = self.to_xy(plane, 2, 3)

# Dynamic (moving points)
t = self.tracker(0.0)
self.play_steps(t.animate.set_value(PI))
moving_dot = self.dynamic_point_on_plane(plane, xt, yt)
dyn_line = self.dynamic_line(get_A, get_B)

ANIMATIONS (standard patterns)
# Basic
self.play_steps(Create(triangle))

# Transform / Dim
self.play_steps(triangle.animate.set_opacity(0.3))     # dim background
# CRITICAL: transform_focus = Transform OLD_SHAPE → NEW_SHAPE + fade helpers
# OLD_SHAPE gets REPLACED entirely by NEW_SHAPE (no overlap!)
old_main = self.transform_focus(
    pentagon,           # OLD_SHAPE → gets transformed away
    self.polygon(F,G,H), # NEW_SHAPE → replaces old completely  
    fade_out=[labels, helpers]  # fade these BEFORE transform
)

# Focus / transition
self.fade_out_group([label1, guide_line, brace])  # fade helpers FIRST

CODE GENERATION RULES
Use templates first. Match the storyboard to a template.

If no template: use primitives, keep it simple.

Variable names: A, B, C, hyp_line, opp_line, etc.

Timing: Use self.pause() to pace beats.

Continuity: Dim with set_opacity(0.3) instead of FadeOut. When replacing a diagram, use transform_focus on the main object and fade_out_group for labels, braces, and guide lines (avoid stacking).

EXAMPLE OUTPUT (what LLM should produce)
```
from manim import *
from scene import CScene
import numpy as np

class RightTriangleSidesScene(CScene):
    def construct(self):
        self.setup_scene("Right Triangle Sides")
        
        # Beat 1: Show triangle
        A = np.array([-2,0,0])
        B = np.array([2,0,0])
        C = np.array([0,2,0])
        triangle = self.polygon(A,B,C)
        right_mark = self.right_angle_mark(B,A,C, size=0.25, color=YELLOW)
        self.pause(1.5)
        
        # Beat 2: Highlight hypotenuse
        hyp = self.segment(B,C, color=RED, stroke_width=6)
        self.label_line(hyp, "hyp")
        self.play_steps(Indicate(hyp))
        self.pause(2)
        
        # Beat 3: Show ratio
        eq = self.mtex(r"\\sin A = \\frac{\\text{opp}}{\\text{hyp}}")
        self.play_steps(Write(eq))
        self.pause(3)
```